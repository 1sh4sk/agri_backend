"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const controller_1 = require("./controller");
const auth_1 = require("../middleware/auth");
const validate_1 = require("../middleware/validate");
const multer_1 = __importDefault(require("../middleware/multer"));
const payload_1 = require("./payload");
const router = (0, express_1.Router)();
const controller = new controller_1.Controller();
router.use(auth_1.verifyAccessToken);
router.get('/profile', controller.getProfile);
router.get('/profile/completion', controller.getProfileCompletion);
router.put('/basic-details', (0, validate_1.validate)(payload_1.basicDetailsPayload, 'body'), controller.updateBasicDetails);
router.post('/kyc/upload', multer_1.default, controller.uploadKYCDocuments);
router.post('/kyc/verify-aadhaar', (0, validate_1.validate)(payload_1.aadhaarVerificationPayload, 'body'), controller.verifyAadhaar);
router.post('/kyc/verify-pan', (0, validate_1.validate)(payload_1.panVerificationPayload, 'body'), controller.verifyPAN);
router.put('/farmer-details', (0, validate_1.validate)(payload_1.farmerDetailsPayload, 'body'), controller.updateFarmerDetails);
router.put('/farm-details', (0, validate_1.validate)(payload_1.farmDetailsPayload, 'body'), controller.updateFarmDetails);
router.post('/crops', multer_1.default, (0, validate_1.validate)(payload_1.addCropPayload, 'body'), controller.addCrop);
router.get('/crops', controller.getCrops);
router.put('/crops/:cropId', multer_1.default, controller.updateCrop);
router.delete('/crops/:cropId', controller.deleteCrop);
router.post('/certificates', multer_1.default, controller.uploadCertificates);
router.post('/awards', multer_1.default, controller.uploadAwards);
router.post('/media', multer_1.default, controller.uploadMedia);
router.put('/selling-preferences', (0, validate_1.validate)(payload_1.sellingPreferencesPayload, 'body'), controller.updateSellingPreferences);
router.post('/profile-picture', multer_1.default, controller.uploadProfilePicture);
router.post('/cover-picture', multer_1.default, controller.uploadCoverPicture);
exports.default = router;
